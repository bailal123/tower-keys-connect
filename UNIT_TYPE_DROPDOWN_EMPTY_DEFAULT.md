# ุชุญุฏูุซ dropdown ููุน ุงููุญุฏุฉ - ุฅุถุงูุฉ ุฎูุงุฑ ูุงุฑุบ ุงูุชุฑุงุถู
**ุงูุชุงุฑูุฎ**: 5 ุฃูุชูุจุฑ 2025

## ๐ ุงููุตู
ุชู ุชุญุฏูุซ dropdown "ููุน ุงููุญุฏุฉ" ุจุญูุซ ูุง ูููู ูู ูููุฉ ุงูุชุฑุงุถูุฉ ูุญุฏุฏุฉุ ูุน ุฅุถุงูุฉ ุฎูุงุฑ ูุงุฑุบ ูุญุซ ุงููุณุชุฎุฏู ุนูู ุงูุงุฎุชูุงุฑ ุงููุงุนู ูููุน ุงููุญุฏุฉุ ููุง ูููุน ุงูุญูุธ ุจุฎูุงุฑ ุนุดูุงุฆู ุฏูู ุงูุชุจุงู.

## ๐ฏ ุงููุดููุฉ ุงูุณุงุจูุฉ

### ุงูุณููู ุงููุฏูู:
```typescript
// ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ
unitType: 'apartment'  // โ ูุญุฏุฏ ุชููุงุฆูุงู

// ูู dropdown
<select value="apartment">
  <option value="apartment">ุดูุฉ</option>  // โ ูุญุฏุฏ ุงูุชุฑุงุถูุงู
  <option value="office">ููุชุจ</option>
  <option value="commercial">ุชุฌุงุฑู</option>
  // ...
</select>
```

### ุงููุดุงูู:
1. **ุงุฎุชูุงุฑ ุชููุงุฆู**: ุงููุณุชุฎุฏู ูุฏ ูุง ููุชุจู ุฃู "ุดูุฉ" ูุญุฏุฏุฉ ุงูุชุฑุงุถูุงู
2. **ุฃุฎุทุงุก ูุญุชููุฉ**: ูุฏ ูุญูุธ ุทูุงุจู ุจููุน ุฎุงุทุฆ (ูุซู ููุงูู ูู "ุดูู")
3. **ุนุฏู ุงููุนู**: ูุง ููุฌุฏ ูุง ูุฌุจุฑ ุงููุณุชุฎุฏู ุนูู ุงูุชูููุฑ ูู ููุน ุงููุญุฏุฉ
4. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู**: ุบูุฑ ูุงุถุญ ุฃู ูุฐุง ุงูุญูู ูุญุชุงุฌ ูุงุฎุชูุงุฑ

## โ ุงูุญู ุงููุทุจู

### ุงูุณููู ุงูุฌุฏูุฏ:
```typescript
// ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ
unitType: ''  // โ ูุงุฑุบ

// ูู dropdown
<select value="">
  <option value="" disabled>ุงุฎุชุฑ ููุน ุงููุญุฏุฉ...</option>  // ๐ฏ ุฎูุงุฑ ุชุญููุฒู
  <option value="apartment">ุดูุฉ</option>
  <option value="office">ููุชุจ</option>
  <option value="commercial">ุชุฌุงุฑู</option>
  // ...
</select>
```

### ุงููููุฒุงุช:
1. **ุงุฎุชูุงุฑ ูุงุนู**: ุงููุณุชุฎุฏู ูุฌุจ ุฃู ูุฎุชุงุฑ ุจูุนู
2. **ููุน ุงูุฃุฎุทุงุก**: ุงูุชุญูู ูููุน ุงูุญูุธ ุจุฏูู ุงุฎุชูุงุฑ
3. **ูุถูุญ ุฃูุจุฑ**: ุงููุต ุงูุชุญููุฒู "ุงุฎุชุฑ ููุน ุงููุญุฏุฉ..." ูุงุถุญ
4. **ุชุฌุฑุจุฉ ูุญุณูุฉ**: ุงููุณุชุฎุฏู ูุนุฑู ุฃู ูุฐุง ุงูุญูู ูุทููุจ

## ๐ง ุงูุชุนุฏููุงุช ุงูุชูููุฉ

### 1. ุชุญุฏูุซ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูู State
```typescript
// ูุจู:
const [form,setForm]=React.useState<FormState>({
  // ...
  unitType:'apartment',  // โ
  // ...
})

// ุจุนุฏ:
const [form,setForm]=React.useState<FormState>({
  // ...
  unitType:'',  // โ ูุงุฑุบ
  // ...
})
```

### 2. ุฅุถุงูุฉ ุฎูุงุฑ ูุงุฑุบ ูู Dropdown
```typescript
// ูุจู:
<select value={form.unitType} onChange={e=>setForm(p=>({...p,unitType:e.target.value}))}>
  {Object.entries(UnitTypeLabels).map(([v,l])=> 
    <option key={v} value={v}>{l[language]}</option>
  )}
</select>

// ุจุนุฏ:
<select value={form.unitType} onChange={e=>setForm(p=>({...p,unitType:e.target.value}))}>
  <option value="" disabled>
    {language === 'ar' ? 'ุงุฎุชุฑ ููุน ุงููุญุฏุฉ...' : 'Select unit type...'}
  </option>
  {Object.entries(UnitTypeLabels).map(([v,l])=> 
    <option key={v} value={v}>{l[language]}</option>
  )}
</select>
```

**ููุงุญุธุฉ**: `disabled` ุนูู ุงูุฎูุงุฑ ุงููุงุฑุบ ูููุน ุงููุณุชุฎุฏู ูู ุฅุนุงุฏุฉ ุงุฎุชูุงุฑู ุจุนุฏ ุงุฎุชูุงุฑ ููุน ูุนูู.

### 3. ุฅุถุงูุฉ ุงูุชุญูู ูู handleDefineFloors
```typescript
const handleDefineFloors = () => {
  // ุงูุชุญููุงุช ุงูููุฌูุฏุฉ...
  
  // โจ ุชุญูู ุฌุฏูุฏ: ุงูุชุฃูุฏ ูู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ
  if (form.floorType !== FloorType.Mixed && 
      form.floorType !== FloorType.Ground && 
      form.floorType !== FloorType.Service && 
      !form.unitType) {
    showWarning(
      language === 'ar' ? 'ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ' : 'Please select unit type',
      t('warning')
    )
    return
  }
  
  // ุจุงูู ุงูููุทู...
}
```

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุนุฑุถ Dropdown ุญุณุจ ููุน ุงูุทุงุจู:

| ููุน ุงูุทุงุจู | ูุธูุฑ dropdown ููุน ุงููุญุฏุฉุ | ุงูุชุญูู ูุทููุจุ |
|------------|---------------------------|----------------|
| **Regular (ุณููู)** | โ ูุนู | โ ูุนู |
| **Parking (ููุงูู)** | โ ูุนู | โ ูุนู |
| **Office (ููุชุจู)** | โ ูุนู | โ ูุนู |
| **Commercial (ุชุฌุงุฑู)** | โ ูุนู | โ ูุนู |
| **Service (ุฎุฏูู)** | โ ูุง (ุฅุฏุฎุงู ูุฏูู) | โ ูุง |
| **Mixed (ูุฎุชูุท)** | โ ูุง (ุฅุฏุฎุงู ูุฏูู) | โ ูุง |
| **Ground (ุฃุฑุถู)** | โ ูุง (ุฅุฏุฎุงู ูุฏูู) | โ ูุง |

### ุงููุตูุต ุงูุชุญููุฒูุฉ:

#### ุจุงููุบุฉ ุงูุนุฑุจูุฉ:
```
ุงุฎุชุฑ ููุน ุงููุญุฏุฉ...
```

#### ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ:
```
Select unit type...
```

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ุงููุณุชุฎุฏู ููุณู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ โ
```
1. ุงููุณุชุฎุฏู ูุญุฏุฏ ูุทุงู ุงูุทูุงุจู: 1-5
2. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุจูููุงุช: A, B
3. ุงููุณุชุฎุฏู ููุณู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ (ูุจูู ูุงุฑุบ)
4. ุงููุณุชุฎุฏู ูุถุบุท "ุชุทุจูู ุงูุชุนุฑูู"
5. โ๏ธ ุชุธูุฑ ุฑุณุงูุฉ ุชุญุฐูุฑ: "ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ"
6. โ ูุง ูุชู ุฅูุดุงุก ุงูุชุนุฑููุงุช
```

### ุณููุงุฑูู 2: ุงููุณุชุฎุฏู ูุฎุชุงุฑ ููุน ุงููุญุฏุฉ ุจูุนู โ
```
1. ุงููุณุชุฎุฏู ูุญุฏุฏ ูุทุงู ุงูุทูุงุจู: 1-5
2. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุจูููุงุช: A, B
3. ุงููุณุชุฎุฏู ููุชุญ dropdown ููุน ุงููุญุฏุฉ
4. ุงููุณุชุฎุฏู ูุฑู "ุงุฎุชุฑ ููุน ุงููุญุฏุฉ..." ููุฎุชุงุฑ "ููุชุจ"
5. ุงููุณุชุฎุฏู ูุถุบุท "ุชุทุจูู ุงูุชุนุฑูู"
6. โ ูุชู ุฅูุดุงุก ุงูุชุนุฑููุงุช ุจููุน "ููุชุจ"
```

### ุณููุงุฑูู 3: ุทุงุจู ุฎุฏูู (ูุง ูุญุชุงุฌ dropdown) โ
```
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ููุน ุงูุทุงุจู: ุฎุฏูู
2. โ dropdown ููุน ุงููุญุฏุฉ ูุง ูุธูุฑ
3. โ ูุธูุฑ ูุญุฑุฑ ุงููุญุฏุงุช ุงููุฎุชูุทุฉ (MixedUnitsEditor)
4. ุงููุณุชุฎุฏู ูุฏุฎู ุงููุญุฏุงุช ูุฏููุงู
5. โ ูุง ููุฌุฏ ุชุญูู ูู unitType (ูุฃูู ุบูุฑ ูุทููุจ)
```

## ๐ ุฑุณุงุฆู ุงูุฎุทุฃ

### ุฑุณุงูุฉ ุงูุชุญุฐูุฑ ุนูุฏ ุนุฏู ุงูุงุฎุชูุงุฑ:

#### ุจุงููุบุฉ ุงูุนุฑุจูุฉ:
```
โ๏ธ ุชุญุฐูุฑ
ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ
```

#### ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ:
```
โ๏ธ Warning
Please select unit type
```

### ุงูุชุญูู ูุญุฏุซ ููุท ููุฃููุงุน:
- โ Regular (ุณููู)
- โ Parking (ููุงูู)
- โ Office (ููุชุจู)
- โ Commercial (ุชุฌุงุฑู)

### ูุง ูุญุฏุซ ุงูุชุญูู ููุฃููุงุน:
- โ Service (ุฎุฏูู) - ูุณุชุฎุฏู MixedUnitsEditor
- โ Mixed (ูุฎุชูุท) - ูุณุชุฎุฏู MixedUnitsEditor
- โ Ground (ุฃุฑุถู) - ูุณุชุฎุฏู MixedUnitsEditor

## ๐ก ุงูููุงุฆุฏ

### 1. ููุน ุงูุฃุฎุทุงุก ุงูุจุดุฑูุฉ
- **ูุจู**: ุงููุณุชุฎุฏู ูุฏ ูุญูุธ ุทูุงุจู ููุงูู ูู "ุดูู" ุจุงูุฎุทุฃ
- **ุจุนุฏ**: ุงููุณุชุฎุฏู ูุฌุจ ุฃู ูุฎุชุงุฑ ุจูุนูุ ููุง ูููู ุงูุฃุฎุทุงุก

### 2. ูุถูุญ ุฃูุจุฑ
- **ูุจู**: ูุง ูุนุฑู ุงููุณุชุฎุฏู ุฅุฐุง ูุงู ุงูุญูู ูุทููุจ
- **ุจุนุฏ**: ุงููุต "ุงุฎุชุฑ ููุน ุงููุญุฏุฉ..." ูุงุถุญ ููุญูุฒ

### 3. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู
- **ูุจู**: ูุฏ ููุชุดู ุงูุฎุทุฃ ุจุนุฏ ุงูุญูุธ
- **ุจุนุฏ**: ูุชู ุงูุชุญุฐูุฑ ูุจู ุงูุญูุธุ ููุง ูููุฑ ุงูููุช

### 4. ุงุชุณุงู ูุน ุฃูุถู ุงูููุงุฑุณุงุช
- ูุนุธู ุงูููุงุฐุฌ ุงูุญุฏูุซุฉ ุชุณุชุฎุฏู ุฎูุงุฑุงุช ูุงุฑุบุฉ ุงูุชุฑุงุถูุฉ
- ูุชูุงุดู ูุน ูุนุงููุฑ UX/UI

### 5. ูุฑููุฉ ูู ุงููุณุชูุจู
- ูููู ุฅุถุงูุฉ ุฑุณุงุฆู ุชูุถูุญูุฉ ุฃู ุฃููููุงุช ุจุณูููุฉ
- ูููู ุฅุถุงูุฉ ุชุญููุงุช ุฅุถุงููุฉ ุญุณุจ ุงูุญุงุฌุฉ

## ๐ฏ ุญุงูุงุช ุฎุงุตุฉ

### ุงูุญุงูุฉ 1: ุชุบููุฑ ููุน ุงูุทุงุจู
```typescript
// ุฅุฐุง ุบูุฑ ุงููุณุชุฎุฏู ููุน ุงูุทุงุจู ูู "ุณููู" ุฅูู "ุฎุฏูู"
// dropdown ููุน ุงููุญุฏุฉ ูุฎุชูู ุชููุงุฆูุงู
// ููุง ูุชู ุงูุชุญูู ูู unitType

// ุฅุฐุง ุบูุฑ ูู "ุฎุฏูู" ุฅูู "ุณููู"
// dropdown ููุน ุงููุญุฏุฉ ูุธูุฑ ูุฑุฉ ุฃุฎุฑู
// ูุน ุงููููุฉ ุงููุงุฑุบุฉ ุงูุงูุชุฑุงุถูุฉ
```

### ุงูุญุงูุฉ 2: ุฅุนุงุฏุฉ ูุชุญ ุงููููุฐุฌ
```typescript
// ุนูุฏ ุฅุบูุงู ุงููููุฐุฌ ูุฅุนุงุฏุฉ ูุชุญู
// unitType ูุนูุฏ ุฅูู '' (ูุงุฑุบ)
// ุงููุณุชุฎุฏู ูุฌุจ ุฃู ูุฎุชุงุฑ ูู ุฌุฏูุฏ
```

### ุงูุญุงูุฉ 3: ุงูุญูุธ ูุงูุชูุฑุงุฑ
```typescript
// ุจุนุฏ ุงูุญูุธ ุงููุงุฌุญ
setForm(f=>({...f, blocks:[], from:1, to:1, mixed:[]}))
// unitType ูุง ูุชู ุฅุนุงุฏุฉ ุชุนูููู ูู ุงูููุฏ ุงูุญุงูู
// ููู ุนูุฏ ูุชุญ ูููุฐุฌ ุฌุฏูุฏุ ูุจุฏุฃ ุจูููุฉ ูุงุฑุบุฉ
```

## ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ

### src/components/building-builder/Step3FloorDefinitions.tsx

**ุงูุชุนุฏููุงุช**:

1. **ุงูุณุทุฑ ~76**: ุชุบููุฑ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ
   ```typescript
   unitType: ''  // ุจุฏูุงู ูู 'apartment'
   ```

2. **ุงูุณุทุฑ ~628**: ุฅุถุงูุฉ ุฎูุงุฑ ูุงุฑุบ ูู dropdown
   ```typescript
   <option value="" disabled>
     {language === 'ar' ? 'ุงุฎุชุฑ ููุน ุงููุญุฏุฉ...' : 'Select unit type...'}
   </option>
   ```

3. **ุงูุณุทุฑ ~160**: ุฅุถุงูุฉ ุชุญูู ุฌุฏูุฏ
   ```typescript
   if (form.floorType !== FloorType.Mixed && 
       form.floorType !== FloorType.Ground && 
       form.floorType !== FloorType.Service && 
       !form.unitType) {
     showWarning(...)
     return
   }
   ```

## โ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑุงุช ูุงุฌุญุฉ:
- [x] ุงูุจูุงุก: `npm run build` (48.09s) โ
- [x] ูุง ุฃุฎุทุงุก TypeScript โ
- [x] ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูุงุฑุบุฉ โ
- [x] ุงูุฎูุงุฑ ุงููุงุฑุบ ูุธูุฑ ูู dropdown โ
- [x] ุงูุชุญูู ูุนูู ููุฃููุงุน ุงููุทููุจุฉ โ
- [x] ูุง ุชุญูู ููุทูุงุจู ุงูุฎุฏููุฉ/ุงููุฎุชูุทุฉ/ุงูุฃุฑุถูุฉ โ

### ุงูุณููุงุฑูููุงุช ุงููุฎุชุจุฑุฉ:
- [x] ูุญุงููุฉ ุงูุญูุธ ุจุฏูู ุงุฎุชูุงุฑ ููุน โ ุชุญุฐูุฑ โ
- [x] ุงุฎุชูุงุฑ ููุน ุซู ุงูุญูุธ โ ูุฌุงุญ โ
- [x] ุทุงุจู ุฎุฏูู ุจุฏูู dropdown โ ูุนูู โ
- [x] ุชุบููุฑ ููุน ุงูุทุงุจู โ dropdown ูุธูุฑ/ูุฎุชูู โ

## ๐ ููุงุฑูุฉ ูุจู/ุจุนุฏ

| ุงูููุฒุฉ | ูุจู | ุจุนุฏ |
|--------|-----|-----|
| **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ** | 'apartment' | '' (ูุงุฑุบ) |
| **ุฎูุงุฑ ูุงุฑุบ ูู dropdown** | โ ูุง ููุฌุฏ | โ ููุฌูุฏ |
| **ูุต ุชุญููุฒู** | โ ูุง ููุฌุฏ | โ "ุงุฎุชุฑ ููุน ุงููุญุฏุฉ..." |
| **ุชุญูู ูู ุงูุงุฎุชูุงุฑ** | โ ูุง ููุฌุฏ | โ ููุฌูุฏ |
| **ุฑุณุงูุฉ ุชุญุฐูุฑ** | โ ูุง ุชูุฌุฏ | โ "ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ" |
| **ููุน ุงูุฃุฎุทุงุก** | โ ุถุนูู | โ ููู |
| **ูุถูุญ ุงููุงุฌูุฉ** | ๐ก ูุชูุณุท | โ ุนุงูู |
| **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู** | ๐ก ุฌูุฏ | โ ููุชุงุฒ |

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ูุธุงู ุงุฎุชูุงุฑ ููุน ุงููุญุฏุฉ ูุญุณูู:
- โ **ุฎูุงุฑ ูุงุฑุบ ุงูุชุฑุงุถู** ูุญุซ ุนูู ุงูุงุฎุชูุงุฑ ุงููุงุนู
- โ **ูุต ุชุญููุฒู** ูุงุถุญ ุจูุบุชูู
- โ **ุชุญูู ููู** ูููุน ุงูุญูุธ ุจุฏูู ุงุฎุชูุงุฑ
- โ **ุฑุณุงุฆู ุฎุทุฃ** ูุงุถุญุฉ ููููุฏุฉ
- โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู** ูุญุณูุฉ ูููููุฉ
- โ **ููุน ุงูุฃุฎุทุงุก** ุงูุจุดุฑูุฉ ุจุดูู ุงุณุชุจุงูู

## ๐ก ุชูุตูุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑูุฉ)

### 1. ุฅุถุงูุฉ ุนูุงูุฉ ูุฌูุฉ ุญูุฑุงุก ููุญููู ุงููุทููุจุฉ
```typescript
<Label className="text-xs text-gray-500">
  {t('builder_unit_type_label')}
  <span className="text-red-500 ml-1">*</span>
</Label>
```

### 2. ุชูููู ุงูุญูู ุนูุฏ ุงูุฎุทุฃ
```typescript
<select 
  className={`mt-1 w-full border rounded px-2 py-2 ${
    !form.unitType ? 'border-red-300' : 'border-gray-300'
  }`}
>
```

### 3. ุฑุณุงูุฉ ูุณุงุนุฏุฉ ุชุญุช ุงูุญูู
```typescript
<div className="text-xs text-gray-500 mt-1">
  {language === 'ar' 
    ? 'ุงุฎุชุฑ ููุน ุงููุญุฏุงุช ุงูุชู ุณูุชู ุฅูุดุงุคูุง ูู ูุฐู ุงูุทูุงุจู'
    : 'Select the type of units to be created on these floors'
  }
</div>
```

ูุฐู ุงูุชูุตูุงุช ูููู ุฅุถุงูุชูุง ูุงุญูุงู ุญุณุจ ุงูุญุงุฌุฉ.
