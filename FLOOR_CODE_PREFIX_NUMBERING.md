# ุชุญุฏูุซ ูุธุงู ุชุฑููู ุจุงุฏุฆุฉ ุงูููุฏ ููุทูุงุจู
**ุงูุชุงุฑูุฎ**: 5 ุฃูุชูุจุฑ 2025

## ๐ ุงููุตู
ุชู ุชุญุฏูุซ ูุธุงู ุชุนุฑูู ุงูุทูุงุจู ูู Step3FloorDefinitions ูุฏุนู ุชุฑููู ูุฎุตุต ูุจุงุฏุฆุฉ ุงูููุฏ ูุฌููุน ุฃููุงุน ุงูุทูุงุจู ูุง ุนุฏุง ุงูุทูุงุจู ุงูุณูููุฉ ุงูุนุงุฏูุฉ (Regular).

## ๐ฏ ุงููุดููุฉ ุงูุณุงุจูุฉ
- ูุงูุช ุจุงุฏุฆุฉ ุงูููุฏ ุชูุทุจู ุจููุณ ุงูุทุฑููุฉ ุนูู ุฌููุน ุฃููุงุน ุงูุทูุงุจู
- ูู ููู ููุงู ุชุญูู ูู ุฑูู ุจุฏุงูุฉ ุชุฑููู ุจุงุฏุฆุฉ ุงูููุฏ
- ููุทูุงุจู ูุซู ุงูุจุงุฑููุฌ ุฃู ุงูุฎุฏููุฉุ ูุงู ูู ุงูุตุนุจ ุฅูุดุงุก ุฃููุงุฏ ูุชุณูุณูุฉ ูุฎุตุตุฉ

## โ ุงูุญู ุงููุทุจู

### 1. ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ: "ุจุฏุงูุฉ ุชุฑููู ุจุงุฏุฆุฉ ุงูููุฏ"
```typescript
const [codePrefixStartNumber, setCodePrefixStartNumber] = React.useState(1)
```

### 2. ุชุญุฏูุซ ููุทู ุฅูุดุงุก ุฃููุงุฏ ุงูุทูุงุจู

#### ููุทูุงุจู ุงูุณูููุฉ ุงูุนุงุฏูุฉ (Regular):
- **ุฅุฐุง ูุงูุช ุงูุจุงุฏุฆุฉ ุฑูููุฉ**: `codePrefix + sequence`
- **ุฅุฐุง ูุงูุช ุงูุจุงุฏุฆุฉ ุญุฑููุฉ**: `codePrefix + floorNumber`

**ูุซุงู**: ุจุงุฏุฆุฉ "F" ููุทูุงุจู 1-3
- ุงููุชูุฌุฉ: `F1`, `F2`, `F3`

#### ููุทูุงุจู ุงูุฃุฑุถูุฉ (Ground):
- **ุฏุงุฆูุงู**: `G`

#### ูุฌููุน ุงูุฃููุงุน ุงูุฃุฎุฑู (Parking, Service, Office, etc.):
- **ุงูุตูุบุฉ**: `codePrefix + (codePrefixStartNumber + sequence - 1)`

**ูุซุงู**: ุจุงุฏุฆุฉ "P"ุ ุฑูู ุจุฏุงูุฉ 4ุ ููุทูุงุจู 1-3
- ุงููุชูุฌุฉ: `P4`, `P5`, `P6`

**ูุซุงู 2**: ุจุงุฏุฆุฉ "S"ุ ุฑูู ุจุฏุงูุฉ 10ุ ููุทูุงุจู 1-2
- ุงููุชูุฌุฉ: `S10`, `S11`

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงูุญููู ุงููุนุฑูุถุฉ ุญุณุจ ููุน ุงูุทุงุจู:

| ููุน ุงูุทุงุจู | ุจุงุฏุฆุฉ ุงูููุฏ | ุจุฏุงูุฉ ุงูุชุฑููู | ููุน ุงููุญุฏุฉ | ุนุฏุฏ ุงููุญุฏุงุช |
|-----------|-------------|---------------|------------|-------------|
| **Regular (ุณููู)** | โ | โ | โ | โ |
| **Parking (ููุงูู)** | โ | โ | โ | โ |
| **Service (ุฎุฏูู)** | โ | โ | โ | โ |
| **Office (ููุชุจู)** | โ | โ | โ | โ |
| **Commercial (ุชุฌุงุฑู)** | โ | โ | โ | โ |
| **Mixed (ูุฎุชูุท)** | โ | โ | โ | โ |
| **Ground (ุฃุฑุถู)** | โ | โ | โ | โ |

### ุฅุถุงูุฉ ูุต ุชูุถูุญู ุชูุงุนูู
```typescript
<div className="text-xs text-gray-500 mt-1">
  {language === 'ar' 
    ? `ูุซุงู: ${form.codePrefix}${codePrefixStartNumber}, ${form.codePrefix}${codePrefixStartNumber+1}, ${form.codePrefix}${codePrefixStartNumber+2}...`
    : `Example: ${form.codePrefix}${codePrefixStartNumber}, ${form.codePrefix}${codePrefixStartNumber+1}, ${form.codePrefix}${codePrefixStartNumber+2}...`
  }
</div>
```

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุทูุงุจู ููุงูู ุณูุงุฑุงุช
```
ููุน ุงูุทุงุจู: Parking
ุจุงุฏุฆุฉ ุงูููุฏ: P
ุจุฏุงูุฉ ุงูุชุฑููู: 1
ูู ุงูุทุงุจู: 1
ุฅูู ุงูุทุงุจู: 4

ุงููุชูุฌุฉ:
- ุงูุทุงุจู 1: P1
- ุงูุทุงุจู 2: P2
- ุงูุทุงุจู 3: P3
- ุงูุทุงุจู 4: P4
```

### ูุซุงู 2: ุทูุงุจู ููุงูู ูุน ุจุฏุงูุฉ ูุฎุตุตุฉ
```
ููุน ุงูุทุงุจู: Parking
ุจุงุฏุฆุฉ ุงูููุฏ: P
ุจุฏุงูุฉ ุงูุชุฑููู: 4
ูู ุงูุทุงุจู: 1
ุฅูู ุงูุทุงุจู: 3

ุงููุชูุฌุฉ:
- ุงูุทุงุจู 1: P4
- ุงูุทุงุจู 2: P5
- ุงูุทุงุจู 3: P6
```

### ูุซุงู 3: ุทูุงุจู ุฎุฏููุฉ
```
ููุน ุงูุทุงุจู: Service
ุจุงุฏุฆุฉ ุงูููุฏ: S
ุจุฏุงูุฉ ุงูุชุฑููู: 10
ูู ุงูุทุงุจู: 1
ุฅูู ุงูุทุงุจู: 2

ุงููุชูุฌุฉ:
- ุงูุทุงุจู 1: S10
- ุงูุทุงุจู 2: S11
```

### ูุซุงู 4: ุทูุงุจู ููุชุจูุฉ
```
ููุน ุงูุทุงุจู: Office
ุจุงุฏุฆุฉ ุงูููุฏ: O
ุจุฏุงูุฉ ุงูุชุฑููู: 20
ูู ุงูุทุงุจู: 5
ุฅูู ุงูุทุงุจู: 7

ุงููุชูุฌุฉ:
- ุงูุทุงุจู 5: O20
- ุงูุทุงุจู 6: O21
- ุงูุทุงุจู 7: O22
```

## ๐ ููุทู ุงูุชุฑููู ุงูุชูุตููู

```typescript
// ููุทูุงุจู ุงูุฃุฑุถูุฉ
if(form.floorType===FloorType.Ground) {
  floorCode='G'
}
// ููุทูุงุจู ุงูุณูููุฉ ุงูุนุงุฏูุฉ ููุท
else if(form.floorType===FloorType.Regular && numericPrefix) {
  floorCode=String(Number(form.codePrefix)+seq-1)
}
else if(form.floorType===FloorType.Regular && !numericPrefix) {
  floorCode=`${form.codePrefix}${n}`
}
// ูุฌููุน ุงูุฃููุงุน ุงูุฃุฎุฑู (ุจุงุฑููุฌุ ุฎุฏููุ ููุชุจูุ ุฅูุฎ)
else {
  floorCode=`${form.codePrefix}${codePrefixStartNumber + seq - 1}`
}
```

## ๐ ุงูุชุญุณููุงุช

### 1. ูุฑููุฉ ุฃูุจุฑ ูู ุงูุชุฑููู
- ูููู ุจุฏุก ุงูุชุฑููู ูู ุฃู ุฑูู
- ูููุฏ ูููุจุงูู ุงููุนูุฏุฉ ุฐุงุช ุฃูุธูุฉ ุชุฑููู ุฎุงุตุฉ

### 2. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ
- ูุต ุชูุถูุญู ูุชุญุฏุซ ุชููุงุฆูุงู ุจูุงุกู ุนูู ุงูููู ุงููุฏุฎูุฉ
- ุนุฑุถ ุงูุญููู ุจุดูู ุงูุชูุงุฆู ุญุณุจ ููุน ุงูุทุงุจู

### 3. ุฅุนุงุฏุฉ ุชุนููู ุงูููู
- ุนูุฏ ุงูุญูุธุ ูุชู ุฅุนุงุฏุฉ `codePrefixStartNumber` ุฅูู 1
- ูููุน ุญูู ุงูููู ุงููุฏููุฉ ุฅูู ุงูุชุนุฑูู ุงูุชุงูู

## ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ

1. **src/components/building-builder/Step3FloorDefinitions.tsx**
   - ุฅุถุงูุฉ state ุฌุฏูุฏ: `codePrefixStartNumber`
   - ุชุญุฏูุซ ููุทู `handleDefineFloors`
   - ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุนุฑุถ ุงูุญูู ุงูุฌุฏูุฏ
   - ุฅุถุงูุฉ ูุต ุชูุถูุญู ุฏููุงูููู

2. **src/pages/BuildingBuilderPageNew.tsx**
   - ุฅูุบุงุก ุงูุชุนููู ุนูู prop: `setBuildingData`
   - ุถูุงู ุชูุฑูุฑ ุฌููุน ุงูู props ุงููุทููุจุฉ

## โ ุงูุงุฎุชุจุงุฑ
- [x] ุงูุจูุงุก ูุงุฌุญ: `npm run build` (42.23s)
- [x] ูุง ุฃุฎุทุงุก TypeScript
- [x] ุฌููุน ุงูู props ุชู ุชูุฑูุฑูุง ุจุดูู ุตุญูุญ
- [x] ูุงุฌูุฉ ุงููุณุชุฎุฏู ุชุนุฑุถ ุงูุญููู ุจุดูู ุงูุชูุงุฆู

## ๐ ููุงุญุธุงุช ูููุทูุฑูู

### ุนูุฏ ุฅุถุงูุฉ ุฃููุงุน ุทูุงุจู ุฌุฏูุฏุฉ:
1. ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุชุญุชุงุฌ ุชุฑููู ูุฎุตุต ุฃู ูุง
2. ุฅุถุงูุฉ ุงูุดุฑุท ุงูููุงุณุจ ูู ููุทู `floorCode`
3. ุชุญุฏูุซ ุดุฑูุท ุนุฑุถ ุงูุญููู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ูุตูุงูุฉ ุงูููุฏ:
- ุงููุชุบูุฑ `codePrefixStartNumber` ูุณุชูู ุนู `form.startNumber`
- `codePrefixStartNumber`: ูุชุฑููู **ุงูุทูุงุจู**
- `form.startNumber`: ูุชุฑููู **ุงููุญุฏุงุช** ุฏุงุฎู ุงูุทุงุจู

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
ูุธุงู ูุฑู ูููู ูุชุนุฑูู ุฃููุงุฏ ุงูุทูุงุจู ูุฏุนู:
- โ ุฃููุงุท ุชุฑููู ูุฎุชููุฉ ุญุณุจ ููุน ุงูุทุงุจู
- โ ุจุฏุงูุฉ ุชุฑููู ูุฎุตุตุฉ
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุณููุฉ ููุงุถุญุฉ
- โ ุฃูุซูุฉ ุชูุถูุญูุฉ ุชูุงุนููุฉ
- โ ุชูุงูู ูุงูู ูุน ุฌููุน ุฃููุงุน ุงูุทูุงุจู
