# منشئ الأبراج التفاعلي - Building Builder

## الوصف
صفحة تفاعلية لإدارة إدخال بيانات الأبراج (Buildings) مع واجهة رسومية تظهر تقدم البناء في 4 مراحل:

1. **إدخال اسم البرج** - تحويل الأرض الفارغة إلى أساسات
2. **اختيار البلوكات** - إضافة البلوكات (A, B, C) مع إمكانية إضافة جديدة
3. **تعريف الطوابق** - إضافة طوابق (B2 إلى 15) للبلوكات المختارة
4. **إضافة الشقق** - إضافة شقق (01 إلى 20) للطوابق والبلوكات

## المميزات
- ✅ واجهة تفاعلية مع شريط تقدم (Stepper)
- ✅ رسم مرئي يتحدث مع كل مرحلة
- ✅ قوائم متعددة الاختيار مع إمكانية إضافة قيم جديدة
- ✅ ملخص مباشر للبيانات المدخلة
- ✅ تصميم متجاوب باستخدام Tailwind CSS
- ✅ حفظ البيانات في React State جاهز للإرسال للـ API

## كيفية التشغيل

### 1. تشغيل المشروع محلياً
```bash
# انتقل لمجلد المشروع
cd d:\RealEstateCRM\frontend

# تثبيت التبعيات (إذا لم تكن مثبتة)
npm install

# تشغيل المشروع
npm run dev
```

### 2. الوصول للصفحة
بعد تشغيل المشروع، افتح المتصفح واذهب إلى:
```
http://localhost:5173/building-builder
```

أو من خلال قائمة التنقل في التطبيق: **منشئ الأبراج** 🔨

## البنية التقنية

### الملفات المنشأة
```
src/
├── pages/
│   └── BuildingBuilderPage.tsx      # الصفحة الرئيسية
├── components/
│   ├── building/
│   │   └── BuildingVisualization.tsx # مكون الرسم المرئي
│   └── ui/
│       └── CreatableSelect.tsx      # مكون القائمة المتعددة
```

### التقنيات المستخدمة
- **React 18** مع TypeScript
- **Tailwind CSS** للتصميم
- **Lucide Icons** للأيقونات
- **React Router** للتوجيه
- **React State** لإدارة البيانات

## واجهة البيانات

### نموذج البيانات النهائي
```typescript
interface BuildingData {
  name: string
  blocks: Block[]
}

interface Block {
  id: string
  name: string
  floors: Floor[]
}

interface Floor {
  id: string
  number: string
  units: Unit[]
}

interface Unit {
  id: string
  number: string
}
```

### مثال على البيانات المُخرجة
```json
{
  "name": "برج المدينة الأول",
  "blocks": [
    {
      "id": "block-A",
      "name": "A",
      "floors": [
        {
          "id": "floor-A-G",
          "number": "G",
          "units": [
            { "id": "unit-A-G-01", "number": "01" },
            { "id": "unit-A-G-02", "number": "02" }
          ]
        }
      ]
    }
  ]
}
```

## المراحل التفصيلية

### المرحلة 1: اسم البرج
- حقل نص مطلوب لإدخال اسم البرج
- التحقق من وجود النص قبل الانتقال
- تحديث الرسم لإظهار الأساسات

### المرحلة 2: البلوكات
- قائمة متعددة الاختيار مع خيارات مبدئية: A, B, C
- إمكانية إضافة بلوكات جديدة
- عرض البلوكات المختارة في الرسم

### المرحلة 3: الطوابق
- اختيار أرقام الطوابق (B2, B1, G, 1-15)
- اختيار البلوكات لتطبيق الطوابق عليها
- إمكانية إضافة طوابق متعددة لبلوكات متعددة

### المرحلة 4: الشقق
- اختيار أرقام الشقق (01-20)
- اختيار البلوكات والطوابق لتطبيق الشقق
- عرض النتيجة النهائية في الرسم

## التطوير المستقبلي

### الإضافات المقترحة
- 🔄 ربط بـ API حقيقي لحفظ البيانات
- 🎨 تحسين الرسوميات باستخدام D3.js أو Canvas
- 📱 تحسين التجاوب للهواتف الذكية
- 💾 حفظ البيانات محلياً (LocalStorage)
- 🔍 إضافة ميزة البحث والتصفية
- 📄 تصدير البيانات بصيغ مختلفة
- ⚡ تحسين الأداء مع React.memo

### مثال تطبيق API
```typescript
const handleCompleteBuilding = async () => {
  try {
    const response = await fetch('/api/buildings', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(buildingData)
    })
    
    if (response.ok) {
      alert('تم إنشاء البرج بنجاح!')
    }
  } catch (error) {
    console.error('Error creating building:', error)
  }
}
```

## الدعم والمساعدة
لأي استفسارات أو تطويرات إضافية، يمكن التواصل مع فريق التطوير.