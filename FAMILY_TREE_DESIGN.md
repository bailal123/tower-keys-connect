# ๐ณ Family Tree Design - ูุธุงู ุงูุดุฌุฑุฉ ุงูุนุงุฆููุฉ ููุฃุจุฑุงุฌ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุตููู ุตูุญุฉ **TowersFamilyTreePage** ุจุฃุณููุจ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ ุงูุชูุงุนููุฉ ุญูุซ:
- ูู **ุจุฑุฌ** ูุธูุฑ ููุงุฑุช ุฑุฆูุณู ูู ุฃุนูู ุงูุดุฌุฑุฉ
- ุนูุฏ ุงูุถุบุท ุนูู ุจุฑุฌุ ูุตุจุญ ูู ุงูุฌุฐุฑ ูุชุธูุฑ ุชุญุชู **ุงูุจูููุงุช**
- ุนูุฏ ุงูุถุบุท ุนูู ุจูููุ ูุตุจุญ ูู ุงูุฌุฐุฑ ูุชุธูุฑ ุชุญุชู **ุงูุทูุงุจู**
- ุนูุฏ ุงูุถุบุท ุนูู ุทุงุจูุ ูุตุจุญ ูู ุงูุฌุฐุฑ ูุชุธูุฑ ุชุญุชู **ุงูุดูู**
- ุฎุทูุท ูุชุตูุฉ ูุซู ุดุฌุฑุฉ ุงูุนุงุฆูุฉ ุชุฑุจุท ุจูู ุงูุฃุจ ูุงูุฃุจูุงุก
- ุชุตููู ูุชุฌุงูุจ ูุนูู ุนูู ุงูููุจุงูู ูุงูููุจููุชุฑ

---

## ๐จ ุงููููุฒุงุช ุงูุชุตููููุฉ

### 1๏ธโฃ **ูุธุงู ุงูุฎุทูุท ุงููุชุตูุฉ**
```
            [ุจุฑุฌ]
               |
      โโโโโโโโโโผโโโโโโโโโ
      |        |        |
   [ุจููู1]  [ุจููู2]  [ุจููู3]
      |
   โโโโผโโโ
   |  |  |
[ุทุงุจู] [ุทุงุจู] [ุทุงุจู]
```

- ุฎุทูุท **ุฑุฃุณูุฉ** ูู ุงูุฃุจ ุฅูู ุงูุฃุจูุงุก
- ุฎุทูุท **ุฃูููุฉ** ุชุฑุจุท ุงูุฃุฎูุฉ
- ุฃููุงู ูุชุฏุฑุฌุฉ ุญุณุจ ุงููุณุชูู:
  * **ุฃุฒุฑู** (Blue): ุงูุฃุจุฑุงุฌ
  * **ุฃุฎุถุฑ** (Green): ุงูุจูููุงุช
  * **ุฃุตูุฑ** (Yellow): ุงูุทูุงุจู
  * **ุจููุณุฌู** (Purple): ุงูุดูู

### 2๏ธโฃ **ูุธุงู Zoom-In ุงูุชูุงุนูู**

#### ุงููุฑุญูุฉ ุงูุฃููู: ุนุฑุถ ุงูุฃุจุฑุงุฌ
```
๐ข [ุจุฑุฌ 1]    ๐ข [ุจุฑุฌ 2]    ๐ข [ุจุฑุฌ 3]    ๐ข [ุจุฑุฌ 4]
```
- ุฌููุน ุงูุฃุจุฑุงุฌ ูุฑุฆูุฉ ูู ุดูู ุจุทุงูุงุช
- ููุงุชุฑ ููุจุญุซ ูุงูุชุตููุฉ

#### ุนูุฏ ุงูุถุบุท ุนูู ุจุฑุฌ:
```
        ๐ข [ุงูุจุฑุฌ ุงููุฎุชุงุฑ]
             |
   โโโโโโโโโโโผโโโโโโโโโโ
   |         |         |
๐ฆ [ุจููู 1] ๐ฆ [ุจููู 2] ๐ฆ [ุจููู 3]
```
- ุงูุจุฑุฌ ุงููุฎุชุงุฑ ูุตุจุญ ุงูุฌุฐุฑ
- ุจุงูู ุงูุฃุจุฑุงุฌ ุชุฎุชูู
- ุงูุจูููุงุช ุชุธูุฑ ูุฃุจูุงุก

#### ุนูุฏ ุงูุถุบุท ุนูู ุจููู:
```
       ๐ฆ [ุงูุจููู ุงููุฎุชุงุฑ]
             |
   โโโโโโโโโโโผโโโโโโโโโโ
   |         |         |
๐ข [ุทุงุจู 1] ๐ข [ุทุงุจู 2] ๐ข [ุทุงุจู 3]
```
- ุงูุจููู ูุตุจุญ ุงูุฌุฐุฑ
- ุงูุจุฑุฌ ูุฎุชูู
- ุงูุทูุงุจู ุชุธูุฑ ูุฃุจูุงุก

#### ุนูุฏ ุงูุถุบุท ุนูู ุทุงุจู:
```
       ๐ข [ุงูุทุงุจู ุงููุฎุชุงุฑ]
             |
   โโโโโโโโโโโผโโโโโโโโโโ
   |         |         |
๐ [ุดูุฉ 1]  ๐ [ุดูุฉ 2]  ๐ [ุดูุฉ 3]
```
- ุงูุทุงุจู ูุตุจุญ ุงูุฌุฐุฑ
- ุงูุจููู ูุฎุชูู
- ุงูุดูู ุชุธูุฑ ูุฃุจูุงุก

### 3๏ธโฃ **ุชุตููู ุงูุจุทุงูุงุช (Cards)**

#### ุจุทุงูุฉ ุงูุจุฑุฌ:
```tsx
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ข  [Building Icon]   โ   โ
โ                             โ
โ  ุงุณู ุงูุจุฑุฌ ุจุงูุนุฑุจู          โ
โ  Tower Name in English      โ
โ                             โ
โ โโโโโโโฌโโโโโโฌโโโโโโ        โ
โ โ  5  โ  20 โ 100 โ        โ
โ โุจููู โุทุงุจู โุดูุฉ  โ        โ
โ โโโโโโโดโโโโโโดโโโโโโ        โ
โ                             โ
โ ูุฑุญูุฉ ุงูุชุนุฑูู: โโโโโโ 3/5  โ
โ                             โ
โ [ุชุนุฏูู]    [ุนุฑุถ ุงูุชูุงุตูู]  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุจุทุงูุฉ ุงูุจููู:
```tsx
โโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฆ  [Box Icon]   20   โ
โ                        โ
โ  ุงุณู ุงูุจููู            โ
โ  Block Name            โ
โ                        โ
โ      [ุชุนุฏูู]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุจุทุงูุฉ ุงูุทุงุจู:
```tsx
โโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ข  [Layers Icon]  8  โ
โ                        โ
โ  ุงูุทุงุจู ุงูุฃูู          โ
โ  First Floor           โ
โ                        โ
โ   [ุนุฑุถ ุงูุดูู]         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุจุทุงูุฉ ุงูุดูุฉ:
```tsx
โโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐  [Home Icon]  ูุชุงุญ โ
โ                        โ
โ  ุงูุดูุฉ ุฑูู 101        โ
โ  Unit 101              โ
โ                        โ
โ      [ุชุนุฏูู]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ุงูุชูููุฐ ุงูุชููู

### ุงููููุงุช ุงูุฑุฆูุณูุฉ:

#### 1. **TowersFamilyTreePage.tsx**
ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุชุญุชูู ุนูู:
- ูุธุงู ุงูุนุฑุถ ูุชุนุฏุฏ ุงููุณุชููุงุช (towers โ blocks โ floors โ units)
- ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุจุงุณุชุฎุฏุงู `useState`
- ุงูุชููู ุจูู ุงููุณุชููุงุช
- ุงูุฎุทูุท ุงููุชุตูุฉ

#### 2. **index.css**
ุฅุถุงูุฉ animation:
```css
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.5s ease-out forwards;
}
```

#### 3. **AppRouter.tsx**
ุฅุถุงูุฉ Route:
```tsx
<Route path="/towers" element={<TowersFamilyTreePage />} />
```

---

## ๐ ูุธุงู ุงูุญุงูุฉ (State Management)

### ViewState Interface:
```typescript
interface ViewState {
  level: 'towers' | 'blocks' | 'floors' | 'units';
  selectedTowerId?: number;
  selectedBlockId?: number;
  selectedFloorId?: number;
}
```

### ูุซุงู ุนูู ุงูุชููู:
```typescript
// ุนุฑุถ ุงูุฃุจุฑุงุฌ
{ level: 'towers' }

// ุงุฎุชูุงุฑ ุจุฑุฌ โ ุนุฑุถ ุงูุจูููุงุช
{ level: 'blocks', selectedTowerId: 1 }

// ุงุฎุชูุงุฑ ุจููู โ ุนุฑุถ ุงูุทูุงุจู
{ level: 'blocks', selectedTowerId: 1, selectedBlockId: 5 }
{ level: 'floors', selectedTowerId: 1, selectedBlockId: 5 }

// ุงุฎุชูุงุฑ ุทุงุจู โ ุนุฑุถ ุงูุดูู
{ level: 'units', selectedTowerId: 1, selectedBlockId: 5, selectedFloorId: 20 }
```

---

## ๐ฏ ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ

### 1. **handleTowerClick**
```typescript
const handleTowerClick = async (towerId: number) => {
  setLoadingChildren(true);
  // ุฌูุจ ุงูุจูููุงุช ูู API
  const blocksData = await towerBlockAPI.getAll({ towerId, onlyActive: true });
  setBlocks(blocksData);
  setViewState({ level: 'blocks', selectedTowerId: towerId });
};
```

### 2. **handleBlockClick**
```typescript
const handleBlockClick = async (blockId: number) => {
  // ุฌูุจ ุงูุทูุงุจู ูู API
  const floorsData = await blockFloorAPI.getAll({ towerBlockId: blockId });
  setFloors(floorsData);
  setViewState({ ...viewState, level: 'floors', selectedBlockId: blockId });
};
```

### 3. **handleFloorClick**
```typescript
const handleFloorClick = async (floorId: number) => {
  // ุฌูุจ ุงูุดูู ูู API
  const unitsData = await unitAPI.getAllAdvanced({ blockFloorId: floorId });
  setUnits(unitsData);
  setViewState({ ...viewState, level: 'units', selectedFloorId: floorId });
};
```

### 4. **handleBack**
```typescript
const handleBack = () => {
  if (viewState.level === 'units') {
    // ุงูุนูุฏุฉ ูู ุงูุดูู ุฅูู ุงูุทูุงุจู
    setViewState({ level: 'floors', ... });
  } else if (viewState.level === 'floors') {
    // ุงูุนูุฏุฉ ูู ุงูุทูุงุจู ุฅูู ุงูุจูููุงุช
    setViewState({ level: 'blocks', ... });
  } else if (viewState.level === 'blocks') {
    // ุงูุนูุฏุฉ ูู ุงูุจูููุงุช ุฅูู ุงูุฃุจุฑุงุฌ
    setViewState({ level: 'towers' });
  }
};
```

---

## ๐ ูุธุงู ุงูุฃููุงู

### ุงูุฃููุงู ุญุณุจ ุงููุณุชูู:

| ุงููุณุชูู | ุงูููู ุงูุฃุณุงุณู | Gradient | ุงูุฃููููุฉ |
|---------|---------------|----------|----------|
| **ุงูุจุฑุฌ** | `blue-500` | `from-blue-500 to-blue-600` | ๐ข Building2 |
| **ุงูุจููู** | `green-500` | `from-green-500 to-green-600` | ๐ฆ Box |
| **ุงูุทุงุจู** | `yellow-500` | `from-yellow-500 to-yellow-600` | ๐ข Layers |
| **ุงูุดูุฉ** | `purple-500` | `from-purple-500 to-purple-600` | ๐ Home |

### ุงูุฎุทูุท ุงููุชุตูุฉ:
```tsx
// ุฎุท ูู ุงูุจุฑุฌ ุฅูู ุงูุจูููุงุช
<div className="bg-gradient-to-b from-blue-400 to-green-500" />

// ุฎุท ูู ุงูุจููู ุฅูู ุงูุทูุงุจู
<div className="bg-gradient-to-b from-green-400 to-yellow-500" />

// ุฎุท ูู ุงูุทุงุจู ุฅูู ุงูุดูู
<div className="bg-gradient-to-b from-yellow-400 to-purple-500" />
```

---

## ๐ฑ ุงูุชุตููู ุงููุชุฌุงูุจ (Responsive)

### Breakpoints:
```css
/* Mobile First */
.flex flex-wrap justify-center gap-6

/* Tablet */
@media (min-width: 768px) {
  gap-8
}

/* Desktop */
@media (min-width: 1024px) {
  gap-12
}
```

### ุชูุณูู ุงูุจุทุงูุงุช:
- **Mobile**: 1 ุจุทุงูุฉ ูู ุงูุณุทุฑ
- **Tablet**: 2-3 ุจุทุงูุงุช ูู ุงูุณุทุฑ
- **Desktop**: 3-5 ุจุทุงูุงุช ูู ุงูุณุทุฑ

---

## โก ุงูุชุฃุซูุฑุงุช ุงูุจุตุฑูุฉ (Animations)

### 1. **Fade In ุนูุฏ ุงูุธููุฑ**
```tsx
<div 
  className="animate-fadeIn" 
  style={{ animationDelay: `${index * 100}ms` }}
>
```

### 2. **Hover Effects**
```tsx
className="transform transition-all duration-300 hover:scale-105 hover:shadow-2xl"
```

### 3. **Gradient Backgrounds**
```tsx
<div className="absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100" />
```

### 4. **Border Highlight**
```tsx
className="border-2 border-transparent hover:border-blue-500"
```

---

## ๐ ูุณุงุฑ ุงููุณุชุฎุฏู (User Flow)

```
1. ุงููุณุชุฎุฏู ููุชุญ ุตูุญุฉ /towers
   โ
2. ูุฑู ุฌููุน ุงูุฃุจุฑุงุฌ ูุน ููุงุชุฑ ุงูุจุญุซ
   โ
3. ูุถุบุท ุนูู ุจุฑุฌ ูุนูู
   โ
4. ุงูุจุฑุฌ ูุตุจุญ ุงูุฌุฐุฑ ูุชุธูุฑ ุงูุจูููุงุช ุชุญุชู
   โ
5. ูุถุบุท ุนูู ุจููู
   โ
6. ุงูุจููู ูุตุจุญ ุงูุฌุฐุฑ ูุชุธูุฑ ุงูุทูุงุจู ุชุญุชู
   โ
7. ูุถุบุท ุนูู ุทุงุจู
   โ
8. ุงูุทุงุจู ูุตุจุญ ุงูุฌุฐุฑ ูุชุธูุฑ ุงูุดูู ุชุญุชู
   โ
9. ููููู ุงูุถุบุท ุนูู "ุฑุฌูุน" ููุนูุฏุฉ ูููุณุชูู ุงูุณุงุจู
```

---

## ๐งฉ ููููุงุช ุงููุงุฌูุฉ

### ุงูููุงุชุฑ (Filters):
- **ุงูุฏููุฉ** (Country)
- **ุงููุฏููุฉ** (City)
- **ุงูููุทูุฉ** (Area)
- **ุงูุญุงูุฉ** (Active/Inactive)
- **ูุฑุญูุฉ ุงูุชุนุฑูู** (Stage 1-5)
- **ุงูุจุญุซ** (Search)

### Breadcrumb Navigation:
```
ุงููุณุงุฑ: ุงูุจุฑุฌ ุงูุดูุงูู โ ุงูุจููู A โ ุงูุทุงุจู ุงูุฃูู โ ุงูุดูุฉ 101
```

### ุฒุฑ ุงูุฑุฌูุน:
```tsx
<Button variant="outline" onClick={handleBack}>
  โ ุฑุฌูุน
</Button>
```

---

## ๐ฆ ุงูู APIs ุงููุณุชุฎุฏูุฉ

```typescript
// ุฌูุจ ุงูุฃุจุฑุงุฌ
towerAPI.getAll(true, countryId, cityId, areaId, null, language)

// ุฌูุจ ุงูุจูููุงุช
towerBlockAPI.getAll({ towerId, onlyActive: true }, language)

// ุฌูุจ ุงูุทูุงุจู
blockFloorAPI.getAll({ towerBlockId, onlyActive: true }, language)

// ุฌูุจ ุงูุดูู
unitAPI.getAllAdvanced({ blockFloorId, onlyActive: true }, language)
```

---

## โ ุงูููุฒุงุช ุงููููุฐุฉ

- โ ุนุฑุถ ุงูุฃุจุฑุงุฌ ูุจุทุงูุงุช ูุน ุฎุทูุท ูุชุตูุฉ
- โ ูุธุงู Zoom-In: ุงูุถุบุท ุนูู ุนูุตุฑ ูุฌุนูู ุงูุฌุฐุฑ
- โ ุฅุฎูุงุก ุงูุนูุงุตุฑ ุงูุฃุฎุฑู ุนูุฏ ุงูุชุฑููุฒ ุนูู ุนูุตุฑ
- โ ุฎุทูุท ูุฑุณููุฉ ูุซู ุดุฌุฑุฉ ุงูุนุงุฆูุฉ
- โ ุจุทุงูุงุช ุตุบูุฑุฉ ูุน Hover Effects
- โ ุชุตููู ูุชุฌุงูุจ (Mobile + Desktop)
- โ ูุธุงู ุฃููุงู ูุชุฏุฑุฌ ุญุณุจ ุงููุณุชูู
- โ Animations ุณูุณุฉ
- โ Breadcrumb ูููุณุงุฑ
- โ ุฒุฑ ุฑุฌูุน ูููุณุชูู ุงูุณุงุจู
- โ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- โ Loading states
- โ Error handling

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงูุชุดุบูู:
```bash
npm run dev
```

### 2. ุงููุตูู ููุตูุญุฉ:
```
http://localhost:5173/towers
```

### 3. ุงูุชููู:
- ุงุถุบุท ุนูู ุฃู ุจุฑุฌ ูุฑุคูุฉ ุงูุจูููุงุช
- ุงุถุบุท ุนูู ุฃู ุจููู ูุฑุคูุฉ ุงูุทูุงุจู
- ุงุถุบุท ุนูู ุฃู ุทุงุจู ูุฑุคูุฉ ุงูุดูู
- ุงุณุชุฎุฏู ุฒุฑ "ุฑุฌูุน" ููุนูุฏุฉ

---

## ๐ ุฅุญุตุงุฆูุงุช ุงูุจูุงุก

```
Build Time: 50.36s
Bundle Size: 3,864.50 KB
CSS Size: 106.44 KB (gzip: 15.49 KB)
Modules: 2518
Status: โ Success
```

---

## ๐จ ูุซุงู ุนูู ุงูููุฏ

### ุฑุณู ุฎุท ูู ุงูุฃุจ ุฅูู ุงูุฃุจูุงุก:
```tsx
{/* Vertical line from parent */}
<div className="w-0.5 h-12 bg-gradient-to-b from-blue-400 to-green-500"></div>

{/* Horizontal line connecting siblings */}
<div 
  className="absolute top-12 left-1/2 w-full h-0.5 bg-green-400" 
  style={{ 
    transform: index === 0 ? 'translateX(0)' : 
               index === total - 1 ? 'translateX(-100%)' : 
               'translateX(-50%)',
    width: index === 0 || index === total - 1 ? '50%' : '100%'
  }}
/>
```

---

## ๐ ุฎูุงุตุฉ

ุชู ุชุตููู ุตูุญุฉ **ุดุฌุฑุฉ ุงูุนุงุฆููุฉ ููุฃุจุฑุงุฌ** ุจูุฌุงุญ ูุน:
- โจ ูุงุฌูุฉ ุชูุงุนููุฉ ุฌูููุฉ
- ๐ฏ ูุธุงู zoom-in ุฐูู
- ๐ณ ุฎุทูุท ูุชุตูุฉ ูุซู ุดุฌุฑุฉ ุงูุนุงุฆูุฉ
- ๐ฑ ุชุตููู ูุชุฌุงูุจ ุชูุงูุงู
- ๐จ ุฃููุงู ูุชูุงุณูุฉ ูููุธูุฉ
- โก ุฃุฏุงุก ุณุฑูุน ูุณูุณ

**ุงูุตูุญุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู!** ๐
